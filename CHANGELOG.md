# 업데이트 안내

## 최근 업데이트 (2025년 12월)

### 🎉 주요 기능

#### 1. 다중 여행 관리 기능
- 여러 여행을 생성하고 관리할 수 있습니다
- 여행별로 일정, 지출, 장소, 체크리스트, 메모가 독립적으로 관리됩니다
- 설정 페이지에서 여행을 선택, 생성, 삭제할 수 있습니다
- 선택한 여행은 자동으로 저장되어 다음 방문 시에도 유지됩니다

#### 2. 메모 기능 추가
- 메모 페이지에서 여러 메모를 작성하고 관리할 수 있습니다
- 메모는 제목과 내용으로 구성되며, 제목만 표시되고 클릭 시 본문을 펼쳐볼 수 있습니다
- 메모는 Supabase에 저장되어 다른 기기에서도 접근 가능합니다
- 데이터 내보내기/가져오기에 메모가 포함됩니다

#### 3. 환율 설정 개선
- 호주 달러(AUD), 미국 달러(USD), 베트남 동(VND) 지원
- 외화 선택 드롭다운으로 원하는 통화를 선택하여 설정할 수 있습니다
- 각 통화별로 독립적인 환율 설정이 가능합니다
- 자동 환율 조회 및 사용자 지정 환율 설정 지원

#### 4. 일기 사진 첨부 기능 ✨ NEW
- 일기 작성 시 여러 사진을 첨부할 수 있습니다
- Supabase Storage를 활용하여 안전하게 이미지를 저장합니다
- 일기 목록에서 첨부된 사진 썸네일을 확인할 수 있습니다
- 일기 삭제 시 연동된 이미지도 자동으로 삭제됩니다

### 🔧 개선 사항

#### 설정 페이지
- 여행 선택/생성/삭제 기능 추가
- 여행 통계 표시 (일정/지출/장소 개수)
- 데이터 내보내기/가져오기 기능
- 섹션 접기/펼치기 기능
- 저장 버튼 상태 개선

#### 일정 관리
- 일정 Dialog 스크롤 기능 추가 (내용이 많아도 잘리지 않음)
- 일정에서 바로 지출 추가 가능
- 연동된 지출 목록 표시

#### 장소 관리 ✨ NEW
- 장소 추가/수정/상세 Dialog에 스크롤 기능 추가
- 내용이 많아도 모든 정보를 확인할 수 있습니다

#### 메인 화면
- 오늘 일기 영역을 메모 영역으로 교체
- Quick Actions에 메모 링크 추가
- 메인 화면 일정 Dialog에 스크롤 기능 추가 ✨ NEW

#### 일기 관리 ✨ NEW
- 일기 작성 시 여러 사진 업로드 지원
- 이미지 미리보기 및 개별 삭제 기능
- 일기 목록에서 사진 썸네일 표시

### 🐛 버그 수정

- Toast 컴포넌트 타입 에러 수정
- AddPlaceDialog에서 selectedTripId import 추가
- 메모 페이지 TypeScript 에러 수정

### 📝 데이터베이스 변경사항

다음 마이그레이션을 실행해주세요:

1. `add_trip_id_to_places_and_checklists.sql` - 장소와 체크리스트에 trip_id 추가
2. `create_memos_table.sql` - 메모 테이블 생성
3. `add_images_to_diaries.sql` - 일기에 이미지 URL 필드 추가 ✨ NEW

### ☁️ Supabase Storage 설정 ✨ NEW

일기 사진 첨부 기능을 사용하려면 다음 설정이 필요합니다:

1. **Storage 버킷 생성**
   - Supabase 대시보드 → Storage → Create bucket
   - 버킷 이름: `diary-images`
   - Public bucket: **체크** (공개 버킷으로 설정)

2. **Storage 정책 설정**
   - `create_diary_images_storage.sql` 파일의 정책을 실행하거나
   - Storage 대시보드에서 수동으로 정책 설정:
     - 읽기: Public Access
     - 업로드: Public Upload
     - 수정: Public Update
     - 삭제: Public Delete

### 💡 사용 팁

- **여행 전환**: 설정 페이지에서 여행 카드를 클릭하여 다른 여행으로 전환할 수 있습니다
- **메모 활용**: 여행 중 필요한 정보를 메모에 기록하여 나중에 쉽게 확인할 수 있습니다
- **환율 설정**: 여행 전에 환율을 미리 설정해두면 예산 관리가 더욱 편리합니다
- **데이터 백업**: 설정 페이지에서 데이터를 내보내어 정기적으로 백업하는 것을 권장합니다
- **일기 사진**: 여행 중 소중한 순간을 사진과 함께 기록하여 더 풍부한 추억을 남길 수 있습니다 ✨ NEW
- **Dialog 스크롤**: 모든 Dialog에서 내용이 많아도 스크롤로 전체 내용을 확인할 수 있습니다 ✨ NEW

---

**문의사항이나 버그 리포트는 GitHub Issues를 통해 알려주세요.**




